---
---

<header class="w-11/12 h-14 rounded-full bg-white shadow-xl fixed mx-auto right-0 left-0 mt-4 z-50 flex justify-center items-center">
    
</header>

<style>
    header {
        transition: transform 0.2s ease-in-out;
    }
</style>

<script defer>
    const header = document.querySelector('header');
    let prevScrollY = window.scrollY;
    let positionMovedRecently = false;
    let navBarVisible = false;

    const hideNavBar = () => {
        header.style.transform = 'translateY(calc(-100% - 1rem))';
        navBarVisible = false;
        positionMovedRecently = true;


        setTimeout(() => {
            positionMovedRecently = false;
        }, 200);
    }

    const showNavBar = () => {
        if (navBarVisible) return;
        
        header.style.transform = 'translateY(0)';
        navBarVisible = true;
        positionMovedRecently = true;


        setTimeout(() => {
            positionMovedRecently = false;
        }, 800);
    }
    
    const scrollHandler = e => {
        if (positionMovedRecently) return;


        if (window.scrollY <= 56) showNavBar();
        else if (window.scrollY > prevScrollY) {
            hideNavBar();
        }
        else {
            showNavBar();
        }

        prevScrollY = window.scrollY;
    }
    
    window.addEventListener('scroll', scrollHandler);
</script>